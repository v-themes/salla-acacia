{#
| Variable   | Type         | Description                                                |
|------------|--------------|------------------------------------------------------------|
| page       | object       |                                                            |
| page.title | string       |                                                            |
| page.slug  | string       |                                                            |
| brands     | Collection[] | Brands grouped by char, ex:{b:[{'name':'brand1',...},...]} |
#}
{% extends "layouts.master" %}
{% block content %}
    <div>
        <div class="container mb-20">
            {# add breadcumbs container in pages to make a space in case breadcrumbs is off #}
                <nav class="breadcrumbs w-full py-5">
                    {% component 'header.breadcrumbs' %}
                </nav>

                <div class="flex justify-between pt-2 pb-6">
                    <h2 class="main-title mb-6 md:mb-0">{{ page.title }}</h2>
                </div>

            {% if brands|length %}
                <!-- brands nav -->
                <div class="brands-nav-wrap">
                    <ul id="brands-nav" class="brands-nav">
                        {% for char,brands_group in brands %}
                            <li>
                                <a class="brands-nav__item" href="#brand-section-{{ loop.index }}" data-id="{{ loop.index }}">{{ char }}</a>
                            </li>
                        {% endfor %}
                    </ul>
                </div>
                <!-- end:: brands nav -->

                <div>
                    {% hook 'brands:index.items.start' %}

                    {% for char,brandGroup in brands %}
                        <section id="brand-section-{{ loop.index }}" class="pt-12">
                            <!-- separator -->
                            <div class="flex items-center mb-4">
                                <span data-id="{{ loop.index }}" class="brand-char">{{ char }}</span>
                                <div class="bg-border-color h-px flex-1"></div>
                            </div>
                            <div class="grid grid-cols-3 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 grid-flow-row gap-3">
                                {% for brand in brandGroup %}
                                    <a href="{{ brand.url }}" class="brand-item">
                                        <img class="max-h-full" src="{{ brand.logo }}" alt="{{ brand.name }}">
                                    </a>
                                {% endfor %}
                            </div>
                        </section>
                    {% endfor %}

                    {% hook 'brands:index.items.end' %}
                </div>
            {% else %}
                <div class="no-content-placeholder">
                    <span class="rounded-icon !w-36 !h-36 bg-gray-100 mb-6">
                        <i class="sicon-award-ribbon text-6xl block text-gray-400"></i>
                    </span>
                    <h1 class="font-bold text-sm mb-1">{{ trans('pages.brands.non_brands') }}</h1>
                    <small>{{ trans('pages.brands.try_again') }}</small>
                </div>
            {% endif %}
        </div>
    </div>
{% endblock %}
{% block scripts %}
    <script defer src="{{ 'pages.js' | asset }}"></script>
{% endblock %}
